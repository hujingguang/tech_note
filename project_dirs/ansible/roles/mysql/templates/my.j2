# For advice on how to change settings please see
# http://dev.mysql.com/doc/refman/5.6/en/server-configuration-defaults.html
# *** DO NOT EDIT THIS FILE. It's a template which will be copied to the
# *** default location during install, and will be replaced if you
# *** upgrade to a newer version of MySQL.

[mysqld]
innodb_buffer_pool_size = 128M
basedir = {{install_mysql_dir}}
datadir = {{install_mysql_data_dir}}
port = 3306
server_id = 1
pid-file={{mysql_pid_dir}}/mysql.pid
user=mysql
skip-name-resolve
back_log=1200
max_connections=2000
transaction_isolation = REPEATABLE-READ
log_bin={{mysql_binlog_dir}}/mysql-bin
binlog_format=row
max_binlog_size = 2G
gtid-mode=on
enforce-gtid-consistency=true 
binlog-rows-query-log_events=1
log-slave-updates=1  
skip_slave_start=1  
expire_logs_days=7
log_error={{mysql_log_dir}}/error.log
slow_query_log=1
long_query_time=1
slow_query_log_file={{mysql_log_dir}}/slow.log
innodb_file_per_table = 1
default-storage-engine=InnoDB
join_buffer_size = 128M
sort_buffer_size = 2M
read_rnd_buffer_size = 2M 
